/*!
 * ew-color-picker.js v2.0.0
 * (c) 2019-2024 eveningwater 
 * Released under the MIT License.
 */
var e,o;e=this,o=function(){"use strict";["html","head","meta","title","link","style","script"].join(",");const e=Object.prototype.toString,o=Array.prototype.slice,t=Object.prototype.hasOwnProperty;navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i);const i=Object.create(null);["Number","String","Function","Undefined"].forEach((e=>{i["is"+e]=o=>typeof o===e.toLowerCase()})),["Object","Array","RegExp"].forEach((o=>{i["isDeep"+o]=t=>e.call(t).slice(8,-1).toLowerCase()===o.toLowerCase()})),["warn","error","log"].forEach((e=>{i["ew"+e.slice(0,1).toUpperCase()+e.slice(1)]=(...o)=>console[e](...o)})),i.isNull=e=>null===e,i.isShallowObject=e=>"object"==typeof e&&!i.isNull(e),i.ewObjToArray=e=>i.isShallowObject(e)?o.call(e):e,i.ewAssign=function(e,o){if(!i.isNull(e)){if(Object.assign)return Object.assign(e,o);{const o=Object(e);for(let e=1,i=arguments.length;e<i;e++){const i=arguments[e];if(i)for(let e in i)t.call(i,e)&&(o[e]=i[e])}return o}}},i.create=e=>document.createElement(e),i.createByTemplate=e=>{const o=i.create("div");return o.innerHTML=e,o.firstElementChild},i.addClass=(e,o)=>e.classList.add(o),i.removeClass=(e,o)=>e.classList.remove(o),i.setStyle=(e,o={})=>i.ewAssign(e.style,o),i.removeStyle=(e,o)=>{for(const t of o)e.style.removeProperty(t)},i.setAttr=(e,o)=>{if(i.isShallowObject(o))for(const[t,i]of Object.entries(o))e.setAttribute(t,`${i}`)},i.setSingleAttr=(e,o,t)=>i.setAttr(e,{[o]:t}),i.getAttr=(e,o)=>e.getAttribute(o),i.isDom=e=>i.isShallowObject(HTMLElement)?e instanceof HTMLElement:e&&i.isShallowObject(e)&&1===e.nodeType&&i.isString(e.nodeName)||e instanceof HTMLCollection||e instanceof NodeList,i.deepCloneObjByJSON=e=>JSON.parse(JSON.stringify(e)),i.deepCloneObjByRecursion=function e(o){if(!i.isShallowObject(o))return;let t=i.isDeepArray(o)?[]:{};for(let s in o)t[s]=i.isShallowObject(o[s])?e(o[s]):o[s];return t},i.getStyle=(e,o)=>window.getComputedStyle(e,null)[o],i.$=(e,o=document)=>o.querySelector(e),i.$$=(e,o=document)=>o.querySelectorAll(e),i.on=(e,o,t,i=!1)=>{e&&o&&t&&e.addEventListener(o,t,i)},i.off=(e,o,t,i=!1)=>{e&&o&&t&&e.removeEventListener(o,t,i)},i.checkContainer=e=>{if(i.isDom(e))return e;if(i.isString(e)){const o=i.$(e);if(o)return o}return document.body},i.removeElement=e=>{e?.parentElement?.removeChild(e)};const s=e=>e?` ${e}`:"",r=(e,o)=>{const{boxNoColorIcon:t="",boxHasColorIcon:i=""}=o;return e?i||`<svg t="1717384498630" class="ew-color-picker-icon${s("ew-color-picker-box-arrow-icon")}" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4234" width="200" height="200"><path d="M512 714.666667c-8.533333 0-17.066667-2.133333-23.466667-8.533334l-341.333333-341.333333c-12.8-12.8-12.8-32 0-44.8 12.8-12.8 32-12.8 44.8 0l320 317.866667 317.866667-320c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 32 0 44.8L533.333333 704c-4.266667 8.533333-12.8 10.666667-21.333333 10.666667z" fill="#666666" p-id="4235"></path></svg>`:t||(e=>`<svg t="1690189203554" class="ew-color-picker-icon${s(e)}" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2272" fill="currentColor"><path d="M504.224 470.288l207.84-207.84a16 16 0 0 1 22.608 0l11.328 11.328a16 16 0 0 1 0 22.624l-207.84 207.824 207.84 207.84a16 16 0 0 1 0 22.608l-11.328 11.328a16 16 0 0 1-22.624 0l-207.824-207.84-207.84 207.84a16 16 0 0 1-22.608 0l-11.328-11.328a16 16 0 0 1 0-22.624l207.84-207.824-207.84-207.84a16 16 0 0 1 0-22.608l11.328-11.328a16 16 0 0 1 22.624 0l207.824 207.84z" p-id="2273"></path></svg>`)("ew-color-picker-box-close-icon")},n=e=>i.isNumber(e)?e:parseInt(`${e}`);class l{hasColor;options;box;cacheBoxTemp;cacheOptions;constructor(e={}){const{defaultColor:o=""}=e;this.hasColor=!!o,this.options=i.ewAssign({},e),this.cacheOptions=this.options,this.box=null,this.cacheBoxTemp="",this.render()}updateChildren(){if(this.box){const{defaultColor:e}=this.options;this.hasColor=!!e,this.box.replaceChildren(i.createByTemplate(r(this.hasColor,this.options)))}}destroy(){this.box&&i.removeElement(this.box)}update(e=["defaultColor","size"]){if(this.box){if(e.includes("defaultColor")){const{defaultColor:e}=this.options;this.updateChildren(),this.setBoxBgColor(e)}console.log(e),e.includes("size")&&this.setBoxSize()}else this.render()}render(){const{container:e,defaultColor:o}=this.options;var t,s;this.cacheBoxTemp||(this.cacheBoxTemp=(t=r(this.hasColor,this.options),`<div class="ew-color-picker-box" ${s?`style="${s}"`:""}>${t}</div>`)),e?.appendChild(i.createByTemplate(this.cacheBoxTemp)),this.box=i.$(".ew-color-picker-box",e),this.setBoxSize(),this.setBoxBgColor(o),this.bindHandler()}bindHandler(){if(this.box){const{onClick:e}=this.options;i.on(this.box,"click",(()=>{e?.(this)}))}}setBoxSize(){const{width:e="",height:o=""}=this.options;this.box&&(e&&i.setStyle(this.box,{width:`${n(e)}px`}),o&&i.setStyle(this.box,{height:`${n(o)}px`}))}setBoxBgColor(e){if(this.box)if(e){const{defaultColor:o}=this.options;i.setStyle(this.box,{backgroundColor:e??o})}else this.clearBoxBgColor()}clearBoxBgColor(){this.box&&i.removeStyle(this.box,["background-color"])}}const c={hasBox:!0,hue:!0,alpha:!1,disabled:!1,predefineColor:[],size:"normal",defaultColor:"",isLog:!0};return class{config;container;constructor(e){i.isUndefined(new.target),this.container=null,this.config=(e=>{if(i.isShallowObject(e)){const{el:o,...t}=e;return i.ewAssign(c,{el:i.checkContainer(o),...t})}return i.ewAssign(c,{el:i.checkContainer(e)})})(e);const{isLog:o}=this.config;o&&i.ewLog("%c ew-color-picker@2.0.0%c \u8054\u7cfbQQ\uff1a854806732 %c \u8054\u7cfb\u5fae\u4fe1\uff1aeveningwater %c github:https://github.com/eveningwater/ew-color-picker %c ","background:#0ca6dc ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),this.render()}onBoxClickHandler(e){console.log(e);const{defaultColor:o}=e.options;e.options.defaultColor=o?"":"#2396ef",e.update(["defaultColor"])}render(){const{el:e,hasBox:o,boxHasColorIcon:t,boxNoColorIcon:s,defaultColor:r}=this.config;if(e?.appendChild(i.createByTemplate('<div class="ew-color-picker"></div>')),this.container=i.checkContainer(i.$(".ew-color-picker",e)),o){const{b_width:e,b_height:o}=(e=>{const{size:o}=e;let t="",s="";if(i.isString(o))switch(o){case"normal":default:t=s="40px";break;case"medium":t=s="36px";break;case"small":t=s="32px";break;case"mini":t=s="28px"}else if(i.isDeepObject(o)){const{width:e,height:i}=o;t=e,s=i}return{b_width:t,b_height:s}})(this.config);new l({container:this.container,width:e,height:o,boxNoColorIcon:s,boxHasColorIcon:t,defaultColor:r,onClick:this.onBoxClickHandler})}}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e="undefined"!=typeof globalThis?globalThis:e||self).ewColorPicker=o();